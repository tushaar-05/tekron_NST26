@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  font-family: 'Press Start 2P', cursive;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Pixel-art rendering */
.pixel-art {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Pixel font */
.pixel-font {
  font-family: 'Press Start 2P', cursive;
  image-rendering: pixelated;
  text-rendering: geometricPrecision;
}

/* Floating animation */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

.floating {
  animation: float 4s ease-in-out infinite;
}

/* Glow effect */
.glow-purple {
  box-shadow: 
    0 0 10px rgba(147, 51, 234, 0.5),
    0 0 20px rgba(147, 51, 234, 0.3),
    0 0 30px rgba(147, 51, 234, 0.2);
}

.glow-cyan {
  box-shadow: 
    0 0 10px rgba(34, 211, 238, 0.6),
    0 0 20px rgba(34, 211, 238, 0.4),
    0 0 30px rgba(34, 211, 238, 0.2);
}

/* Pixel button */
.pixel-button {
  position: relative;
  background: #7c3aed;
  border: none;
  border-radius: 0;
  box-shadow: 
    /* Pixelated multi-layer border for blocky effect */
    0 0 0 2px #000000,
    0 0 0 4px #c084fc,
    0 0 0 6px #000000,
    0 0 0 8px #a855f7,
    /* 3D shadow effect */
    4px 4px 0px #4c1d95;
  transition: none;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  transform: translate(0, 0);
  cursor: pointer;
  outline: none;
}

.pixel-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: rgba(255, 255, 255, 0.2);
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

.pixel-button:hover {
  background: #a855f7;
  transform: translate(-2px, -2px);
  box-shadow: 
    /* Pixelated multi-layer border for blocky effect */
    0 0 0 2px #000000,
    0 0 0 4px #c084fc,
    0 0 0 6px #000000,
    0 0 0 8px #a855f7,
    /* 3D shadow effect */
    6px 6px 0px #4c1d95;
}

.pixel-button:active {
  transform: translate(2px, 2px);
  box-shadow: 
    /* Pixelated multi-layer border for blocky effect */
    0 0 0 2px #000000,
    0 0 0 4px #c084fc,
    0 0 0 6px #000000,
    0 0 0 8px #a855f7,
    /* 3D shadow effect */
    2px 2px 0px #4c1d95;
}

/* Dialogue bubble */
.dialogue-bubble {
  background: rgba(30, 30, 40, 0.95);
  border: none;
  border-radius: 0;
  box-shadow: 
    0 0 0 1px #000000,
    0 0 0 2px #0a0a0a,
    0 0 0 3px #a855f7,
    0 0 0 4px #1a1a1a,
    0 0 0 5px #c084fc,
    0 0 0 6px #000000,
    0 0 0 7px #a855f7,
    0 0 20px rgba(168, 85, 247, 0.5),
    inset 0 0 30px rgba(0, 0, 0, 0.5);
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  min-width: 300px;
  max-width: 400px;
  transform: scale(1);
  transform-origin: top left;
  image-rendering: -webkit-optimize-contrast;
}

.dialogue-arrow {
  transition: none;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  image-rendering: -webkit-optimize-contrast;
  border: none;
  background: none;
  padding: 4px 8px;
  text-shadow: 1px 1px 0px #000000;
}

.dialogue-arrow:hover {
  transform: scale(1.2);
  transition: none;
}

.dialogue-arrow:active {
  transform: scale(1);
}

/* Navigation pill */
.nav-pill {
  background: linear-gradient(135deg, rgba(124, 58, 237, 0.3) 0%, rgba(88, 28, 135, 0.3) 100%);
  border: 3px solid rgba(192, 132, 252, 0.6);
  backdrop-filter: blur(10px);
  box-shadow: 
    0 0 30px rgba(147, 51, 234, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
}

/* Custom cursor */
.custom-cursor {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

.cursor-text {
  background: rgba(30, 30, 40, 0.95);
  border: none;
  border-radius: 0;
  box-shadow: 
    0 0 0 1px #000000,
    0 0 0 2px #0a0a0a,
    0 0 0 3px #a855f7,
    0 0 0 4px #1a1a1a,
    0 0 0 5px #c084fc,
    0 0 0 6px #000000,
    0 0 20px rgba(168, 85, 247, 0.5);
  padding: 6px 10px;
  color: #c084fc;
  font-size: 8px;
  white-space: nowrap;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  image-rendering: -webkit-optimize-contrast;
  text-shadow: 
    1px 1px 0px #000000,
    0 0 10px rgba(168, 85, 247, 0.5);
  letter-spacing: 0.05em;
  transform: scale(1);
  transform-origin: top left;
}

/* Notch navigation button */
.notch-nav-button {
  background: rgba(97, 19, 231, 0.5);
  border: none;
  width: 120px;
  height: 50px;
  padding: 0;
  cursor: pointer;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  position: relative;
  overflow: visible;
  transition: width 0.15s steps(4, end);
  /* Pixel art notch shape - rounded top, jagged bottom */
  clip-path: polygon(
    0% 0%,
    100% 0%,
    100% calc(100% - 18px),
    98% calc(100% - 15px),
    95% 100%,
    92% calc(100% - 16px),
    88% calc(100% - 12px),
    85% calc(100% - 8px),
    80% calc(100% - 5px),
    70% calc(100% - 3px),
    60% calc(100% - 2px),
    50% calc(100% - 1px),
    40% calc(100% - 2px),
    30% calc(100% - 3px),
    20% calc(100% - 5px),
    15% calc(100% - 8px),
    12% calc(100% - 12px),
    8% calc(100% - 16px),
    5% 100%,
    2% calc(100% - 15px),
    0% calc(100% - 18px)
  );
  box-shadow: 
    0 0 0 2px #0f0a1e,
    0 0 0 4px #7c3aed,
    0 0 20px rgba(124, 58, 237, 0.4);
}

.notch-nav-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
  image-rendering: pixelated;
}

.notch-nav-button:hover {
  width: 280px;
  background: #1d1e45;
  box-shadow: 
    0 0 0 2px #0f0a1e,
    0 0 0 4px #a855f7,
    0 0 30px rgba(168, 85, 247, 0.6);
}

.notch-nav-content {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  position: relative;
  overflow: hidden;
}

.notch-text-default {
  position: absolute;
  opacity: 1;
  transition: opacity 0.1s steps(2, end);
  white-space: nowrap;
}

.notch-text-expanded {
  position: absolute;
  opacity: 0;
  transition: opacity 0.1s steps(2, end) 0.05s;
  white-space: nowrap;
}

.notch-nav-button:hover .notch-text-default {
  opacity: 0;
  transition: opacity 0.1s steps(2, end);
}

.notch-nav-button:hover .notch-text-expanded {
  opacity: 1;
  transition: opacity 0.1s steps(2, end) 0.05s;
}
